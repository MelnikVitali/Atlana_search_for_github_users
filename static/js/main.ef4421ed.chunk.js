(this["webpackJsonpatlana-search-for-github-users"]=this["webpackJsonpatlana-search-for-github-users"]||[]).push([[0],{327:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(13),c=r.n(s),i=r(40),o=r(73),l=(r(278),r(344)),u=r(341),d=r(36),g=r(119),p=r(261),b=r(60),h=r.n(b),j=r(120),m=r(31),f=r(76),O=r(121),x=r.n(O),v="Iv1.907402d10d550696",U="7aa636120cd2812778c6458af49d40371a7bcd15",y={baseURL:"https://api.github.com/",searchUsers:"https://api.github.com/search/users?q=",searchUser:"https://api.github.com/users/",gitHubQuerySettingsUsers:"client_id=".concat(v,"&client_secret=").concat(U,"&per_page=2"),gitHubQuerySettingsRepos:"/repos?type=all&sort=updated&$client_id=".concat(v,"&client_secret=").concat(U,"&per_page=300")},k=Object(g.b)({name:"users",initialState:{loading:!1,error:null,queriedUsers:[],currentUsers:[],isCurrentUsers:!1,currentUser:null,isCurrentUserRepos:!1,isOpenDisplayUser:!1,users:{}},reducers:{startLoading:function(e){e.loading=!0},getUsersSuccess:function(e,t){var r=t.payload;e.queriedUsers=r,e.isOpenDisplayUser=!1,e.loading=!1,e.errorMessage=null},getCurrentUsersSuccess:function(e,t){var r=t.payload,n=r.reduce((function(e,t){return e[t.login]={user:t,repos:[]},e}),{});e.users=Object(f.a)(Object(f.a)({},e.users),n),e.currentUsers=r,e.loading=!1,e.error=null},getCurrentUserSuccess:function(e,t){var r=t.payload;e.users=Object(f.a)(Object(f.a)({},e.users),{},Object(m.a)({},r.login,{user:Object(f.a)({},r),repos:[]})),e.loading=!1,e.error=null},getCurrentUserReposSuccess:function(e,t){var r=t.payload,n=r[0].owner.login;e.users[n].repos=r,e.loading=!1,e.error=null,e.isCurrentUserRepos=!0},getCurrentUser:function(e,t){var r=t.payload;e.currentUser=r,e.isCurrentUserRepos=!1},getError:function(e,t){var r=t.payload;e.loading=!1,e.error=r},clearResults:function(e){e.loading=!1,e.error=null,e.queriedUsers=[],e.isCurrentUsers=!1,e.isCurrentUserRepos=!1,e.isOpenDisplayUser=!1},toggleDisplayCurrentUser:function(e){e.isOpenDisplayUser=!0}}}),C=k.actions,w=C.startLoading,S=C.getUsersSuccess,R=(C.getCurrentUsersSuccess,C.getCurrentUser),N=C.getCurrentUserSuccess,L=C.getCurrentUserReposSuccess,D=C.getError,B=(C.clearResults,C.toggleDisplayCurrentUser),H=function(e){return e.users},M=k.reducer,q=Object(d.combineReducers)({users:M}),I=Object(g.a)({reducer:q,devTools:[Object(p.devToolsEnhancer)({realtime:!0})]}),W=r(54),_=function(e){return e?"".concat(e/16,"rem"):0},z=Object(W.b)({typography:{fontFamily:["Roboto","sans-serif"].join(",")},backgroundColorMessageWrap:"#DCDCDC",backgroundColorOwnerWindow:"rgb(220, 248, 198)",colorTimeChat:"green",overrides:{MuiCssBaseline:{"@global":{html:{boxSizing:"border-box",width:"100%",height:"100%"},"html, body":{outline:"none"},body:{margin:"0 auto"},"#root":{minHeight:"100%",height:"100vh",width:"100%"},":focus":{outline:"none"},a:{textDecoration:"none !important"}}},MuiFormLabel:{root:{"&.Mui-disabled":{color:" rgba(0, 0, 0, 0.54)"}},asterisk:{display:"none"}},MuiFormHelperText:{root:{minHeight:_(22),position:"absolute",bottom:_(-24),left:_(-10)}},MuiInputBase:{root:{position:"relative","&.Mui-disabled":{color:"initial"}}},MuiButton:{root:{textTransform:"none",fontSize:_(16)}},outlined:{fontSize:_(16),border:"2px "}},MuiOutlinedInput:{notchedOutline:{top:_(-4.5)}}}),E=r(337),T=r(338),Q=r(256),A=r(330),F=r(262),G=r.n(F),J=r(255),$=Object(J.a)((function(e){return{root:{"& > * + *":{marginTop:e.spacing(1)},marginBottom:e.spacing(2),display:"flex",alignItems:"center"},toolBar:{width:"100%",display:"flex"},menuButton:{paddingLeft:e.spacing(4)}}})),K=r(7),P=function(){var e=$();return Object(K.jsx)(E.a,{className:e.root,children:Object(K.jsxs)(T.a,{className:e.toolBar,children:[Object(K.jsx)(Q.a,{size:"small",edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",children:Object(K.jsx)(G.a,{})}),Object(K.jsx)(A.a,{component:"h1",variant:"h6",children:"GitHub user search"})]})})},V=r(345),X=r(75),Y=r(117),Z=r.n(Y),ee=r(158),te=r(156),re=r(343),ne=r(118),ae=r.n(ne),se=r(342),ce=r(347),ie=(0,r(38).makeStyles)((function(e){var t;return{paper:{backgroundColor:e.palette.background.default,margin:_(6),display:"flex"},gridContainer:{padding:_(12),alignItems:"center"},large:{width:_(56),height:_(56)},userName:(t={textAlign:"left",paddingLeft:_(30)},Object(m.a)(t,e.breakpoints.down("sm"),{paddingLeft:_(25)}),Object(m.a)(t,e.breakpoints.down("xs"),{paddingLeft:_(12)}),t),repos:{textAlign:"right"},preloader:{float:"right"}}})),oe=a.a.memo((function(e){var t=e.user,r=e.handleDisplayCurrentUser,a=ie(),s=Object(i.b)(),c=Object(i.c)(H),l=c.loading,u=(c.isCurrentUsers,c.queriedUsers),d=(c.currentUsers,c.users);return Object(n.useEffect)((function(){var e;console.log(!d[t.login]),0!==Object.keys(d).length&&d[t.login]||s((e=t.login,function(){var t=Object(j.a)(h.a.mark((function t(r){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(w()),t.prev=1,t.next=4,x.a.get("".concat(y.searchUser).concat(e,"?").concat(y.gitHubQuerySettingsUsers));case 4:(n=t.sent)&&r(N(n.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),o.b.error(null===t.t0||void 0===t.t0?void 0:t.t0.message),r(D(null===t.t0||void 0===t.t0?void 0:t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[u]),console.log("renderuserItem"),Object(K.jsx)(ee.a,{className:a.paper,children:Object(K.jsx)(se.a,{fullWidth:!0,onClick:function(){return r(t.login,d)},children:Object(K.jsxs)(V.a,{container:!0,className:a.gridContainer,children:[Object(K.jsx)(V.a,{item:!0,xs:12,sm:3,md:2,children:Object(K.jsx)(ce.a,{alt:t.login,src:t.avatar_url,variant:"rounded",className:a.large})}),Object(K.jsx)(V.a,{item:!0,xs:12,sm:7,md:8,className:a.userName,children:Object(K.jsx)(A.a,{noWrap:!0,children:t.login})}),Object(K.jsxs)(V.a,{item:!0,xs:12,sm:2,md:2,children:[l&&Object(K.jsx)(te.a,{className:a.preloader,children:Object(K.jsx)(re.a,{thickness:5,size:36,color:"secondary"})}),!l&&d[t.login]&&Object(K.jsxs)(A.a,{noWrap:!0,className:a.repos,children:["Repo: ",d[t.login].user.public_repos]})]})]})})})})),le=(0,r(38).makeStyles)((function(e){var t;return{container:{position:"relative",padding:_(3),width:"100%",flexGrow:1},paper:{backgroundColor:e.palette.background.default},title:{fontWeight:500,letterSpacing:_(.2)},searchBar:(t={margin:"".concat(_(18)," ").concat(_(36)," ").concat(_(28))},Object(m.a)(t,e.breakpoints.down("md"),{marginLeft:_(14),marginRight:_(14)}),Object(m.a)(t,e.breakpoints.down("sm"),{marginLeft:_(6),marginRight:_(6)}),t),preloader:{position:"absolute",top:_(66),left:_(18)}}})),ue=function(){var e=le(),t=Object(i.b)(),r=Object(i.c)(H),a=r.loading,s=(r.users,r.queriedUsers),c=(r.currentUsers,r.isOpenDisplayUser),l=r.error,u=Object(n.useState)(""),d=Object(X.a)(u,2),g=(d[0],d[1]),p=Object(n.useState)(""),b=Object(X.a)(p,2),m=b[0],f=b[1],O=Object(n.useCallback)(Z()((function(e){return f(e)}),1e3),[]),v=function(){f(""),t(B(!1))};Object(n.useEffect)((function(){var e;return""===m?v():t((e=m,function(){var t=Object(j.a)(h.a.mark((function t(r){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(w()),t.prev=1,t.next=4,x.a.get("".concat(y.searchUsers).concat(e,"&").concat(y.gitHubQuerySettingsUsers));case 4:(n=t.sent)&&r(S(n.data.items)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),o.b.error(null===t.t0||void 0===t.t0?void 0:t.t0.message),r(D(null===t.t0||void 0===t.t0?void 0:t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())),function(){v()}}),[m]);var U=Object(n.useCallback)((function(e,r){e in r&&0===r[e].repos.length&&t(function(e){return console.log("5555",e),function(){var t=Object(j.a)(h.a.mark((function t(r){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(w()),t.prev=1,t.next=4,x.a.get("".concat(y.searchUser).concat(e).concat(y.gitHubQuerySettingsRepos));case 4:(n=t.sent)&&r(L(n.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),o.b.error(null===t.t0||void 0===t.t0?void 0:t.t0.message),r(D(null===t.t0||void 0===t.t0?void 0:t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e)),l||t(B(!0)),t(R(e))}),[c]);return Object(K.jsx)(V.a,{item:!0,sm:6,xs:12,children:Object(K.jsx)(ee.a,{className:e.paper,elevation:3,children:Object(K.jsxs)(V.a,{container:!0,direction:"column",className:e.container,children:[Object(K.jsx)(V.a,{item:!0,children:Object(K.jsx)(A.a,{variant:"h5",align:"center",gutterBottom:!0,className:e.title,children:"GitHub Searcher"})}),Object(K.jsx)(V.a,{item:!0,children:Object(K.jsx)(ae.a,{onChange:function(e){return function(e){var t=e.trim();g(t),O(t)}(e)},placeholder:"Search for Users",onCancelSearch:v,onRequestSearch:v,className:e.searchBar})}),a&&0!==s.length&&Object(K.jsx)(te.a,{className:e.preloader,children:Object(K.jsx)(re.a,{thickness:5,size:36,color:"secondary"})}),!a&&0!==s.length&&Object(K.jsx)(V.a,{item:!0,children:s.map((function(e){return Object(K.jsx)(oe,{user:e,userLogin:e.login,handleDisplayCurrentUser:U},e.id)}))})]})})})},de=((0,r(38).makeStyles)((function(e){return{container:{padding:_(18)},paper:{backgroundColor:e.palette.background.default},title:{fontWeight:500,letterSpacing:_(.2)},searchBar:{margin:"".concat(_(18)," ").concat(_(36)," ").concat(_(28)),marginLeft:_(36),marginRight:_(36)},large:{width:_(160),height:_(160)},preloader:{paddingLeft:_(40)}}})),r(346),(0,r(38).makeStyles)((function(e){var t;return{paper:{backgroundColor:e.palette.background.default,margin:_(6),display:"flex"},gridContainer:{padding:_(12),alignItems:"center"},link:{width:"100%",height:"100%"},large:{width:_(56),height:_(56)},userName:(t={textAlign:"left",paddingLeft:_(30)},Object(m.a)(t,e.breakpoints.down("sm"),{paddingLeft:_(25)}),Object(m.a)(t,e.breakpoints.down("xs"),{paddingLeft:_(12)}),t),repos:{textAlign:"right"},preloader:{float:"right"}}})),(0,r(38).makeStyles)((function(e){return{container:Object(m.a)({width:"100%",flexWrap:"nowrap",padding:"".concat(_(120)," ").concat(_(12)," ").concat(_(50)," ").concat(_(12))},e.breakpoints.down("md"),{paddingLeft:_(8),paddingRight:_(8)})}}))),ge=function(){var e=de(),t=Object(i.c)(H);t.queriedUsers,t.isOpenDisplayUser;return Object(K.jsx)(V.a,{container:!0,component:"main",spacing:2,className:e.container,children:Object(K.jsx)(ue,{})})},pe=function(){return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(P,{}),Object(K.jsx)(ge,{})]})};c.a.render(Object(K.jsxs)(i.a,{store:I,children:[Object(K.jsxs)(u.a,{theme:z,children:[Object(K.jsx)(l.a,{}),Object(K.jsx)(pe,{})]}),Object(K.jsx)(o.a,{})]}),document.getElementById("root"))}},[[327,1,2]]]);
//# sourceMappingURL=main.ef4421ed.chunk.js.map